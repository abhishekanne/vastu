<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vastu</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Vastu</h1>
        
        <!-- Step 1: Upload and Align Image -->
        <div id="step1" class="step active">
            <div class="step-header">
                <h2>Step 1: Upload and Align Image</h2>
                <button id="nextStep1" class="next-btn" disabled>Next</button>
            </div>
            
            <div id="toolbox" class="toolbox">
                <div class="tool-group">
                    <input type="file" id="imageUpload" accept="image/*">
                    <label for="imageUpload" class="upload-btn">Upload House Plan</label>
                </div>
                <div class="tool-group" style="display: none;" id="imageTools">
                    <label>Rotate:</label>
                    <button id="rotateLeft">-</button>
                    <input type="number" id="rotateInput" value="0" min="0" max="360">
                    <button id="rotateRight">+</button>
                    <span>¬∞</span>
                </div>
                <div class="tool-group" style="display: none;" id="controlTools">
                    <button id="moveBtn" class="tool-btn active">‚úã Move</button>
                    <button id="zoomIn" class="tool-btn">üîç+</button>
                    <button id="zoomOut" class="tool-btn">üîç-</button>
                </div>
            </div>
            
            <div id="imageContainer" class="image-container">
                <canvas id="imageCanvas"></canvas>
            </div>
        </div>
        
        <!-- Step 2: Draw Outer Walls -->
        <div id="step2" class="step">
            <div class="step-header">
                <h2>Step 2: Draw Outer Walls</h2>
                <div class="step-nav">
                    <button id="backStep2" class="back-btn">Back</button>
                    <button id="nextStep2" class="next-btn" style="display: none;">Next</button>
                </div>
            </div>
            <p>Draw the outer walls of your house. Click to add points and create a closed circuit.</p>
            
            <div id="toolbox2" class="toolbox">
                <div class="tool-group">
                    <button id="drawWalls" class="tool-btn active">‚úèÔ∏è Draw Walls</button>
                    <button id="undoWall" class="tool-btn" disabled>‚Ü∂ Undo</button>
                    <button id="redoWall" class="tool-btn" disabled>‚Ü∑ Redo</button>
                    <button id="clearWalls">Clear</button>
                </div>
                <div class="tool-group">
                    <button id="moveBtn2" class="tool-btn">‚úã Move</button>
                    <button id="zoomIn2" class="tool-btn">üîç+</button>
                    <button id="zoomOut2" class="tool-btn">üîç-</button>
                </div>
                <div class="tool-group">
                    <button id="doneWalls" disabled>Done</button>
                </div>
            </div>
            
            <div class="drawing-container">
                <canvas id="drawingCanvas"></canvas>
            </div>
        </div>
        
        <!-- Step 3: Map Main Door -->
        <div id="step3" class="step">
            <div class="step-header">
                <h2>Step 3: Map Main Door</h2>
                <div class="step-nav">
                    <button id="backStep3" class="back-btn">Back</button>
                    <button id="nextStep3" class="next-btn" style="display: none;">Next</button>
                </div>
            </div>
            <p>Click two points on a wall to mark the main door location.</p>
            
            <div id="toolbox3" class="toolbox">
                <div class="tool-group">
                    <button id="drawDoor" class="tool-btn active">üö™ Draw Main Door</button>
                    <button id="clearDoor" class="tool-btn">Clear Door</button>
                </div>
            </div>
            
            <div class="door-container">
                <canvas id="doorCanvas"></canvas>
            </div>
        </div>
        
        <!-- Step 4: Plot Exit Arrow -->
        <div id="step4" class="step">
            <div class="step-header">
                <h2>Step 4: Plot Exit Arrow</h2>
                <div class="step-nav">
                    <button id="backStep4" class="back-btn">Back</button>
                    <button id="nextStep4" class="next-btn" style="display: none;">Next</button>
                </div>
            </div>
            <p>Click on one of the triangles to select the door opening direction.</p>
            
            <div class="exit-container">
                <canvas id="exitCanvas"></canvas>
            </div>
        </div>
        
        <!-- Step 5: Direction Analysis -->
        <div id="step5" class="step">
            <div class="step-header">
                <h2>Step 5: Direction Analysis</h2>
                <div class="step-nav">
                    <button id="backStep5" class="back-btn">Back</button>
                    <button id="nextStep5" class="next-btn">Next</button>
                </div>
            </div>
            
            <div id="toolbox5" class="toolbox">
                <div class="tool-group">
                    <div class="direction-selector">
                        <label>Directions:</label>
                        <select id="directionCount">
                            <option value="4">4 Directions</option>
                            <option value="8">8 Directions</option>
                            <option value="16">16 Directions</option>
                        </select>
                    </div>
                    <button id="showDirections">Show/Hide Directions</button>
                </div>
                <div class="tool-group">
                    <button id="showRectangle">Show Imaginary Rectangle</button>
                    <button id="colorSections">Color Sections</button>
                </div>
                <div class="tool-group">
                    <button id="showGrid">Show Grid Markers</button>
                    <button id="showRoomTable">Show Room Table</button>
                </div>
            </div>
            
            <div class="analysis-container">
                <canvas id="analysisCanvas"></canvas>
            </div>
        </div>
        
        <!-- Step 6: Final View -->
        <div id="step6" class="step">
            <div class="step-header">
                <h2>Step 6: Final View</h2>
                <div class="step-nav">
                    <button id="backStep6" class="back-btn">Back</button>
                </div>
            </div>
            
            <div id="toolbox6" class="toolbox">
                <div class="tool-group">
                    <label>Rotate:</label>
                    <button id="finalRotateLeft">-</button>
                    <input type="number" id="finalRotateInput" value="0" min="0" max="360">
                    <button id="finalRotateRight">+</button>
                    <span>¬∞</span>
                </div>
                <div class="tool-group">
                    <button id="downloadImage" class="download-btn">üì• Download Image</button>
                </div>
            </div>
            
            <div class="final-container">
                <canvas id="finalCanvas"></canvas>
            </div>
        </div>
    </div>
    
    <footer class="footer">
        <p>&copy; 2024 Vastu Application. All rights reserved. | Contact: <a href="mailto:info@vastu.com">info@vastu.com</a></p>
    </footer>
    
    <script src="script.js"></script>
</body>
</html>